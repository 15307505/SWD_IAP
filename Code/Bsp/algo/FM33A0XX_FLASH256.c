/* Flash OS Routines (Automagically Generated)
 * Copyright (c) 2009-2015 ARM Limited
 */
#include "flash_blob.h"

static const uint32_t flash_code[] = {
    0xE00ABE00, 0x062D780D, 0x24084068, 0xD3000040, 0x1E644058, 0x1C49D1FA, 0x2A001E52, 0x4770D1F2,
    0x48474948, 0x47706008, 0x2200B510, 0x4C454B44, 0x6023E006, 0xBF002100, 0x29391C49, 0x1C52D3FB,
    0xD3F64282, 0x4840BD10, 0x22206AC1, 0x62C14311, 0x47702000, 0x6AC1483C, 0x43912220, 0x200062C1,
    0xB5F04770, 0x4C392500, 0x462E2703, 0x6960023F, 0x616043B8, 0x21FF6960, 0x43083101, 0x69616160,
    0x43812002, 0x69606161, 0x43082101, 0x48306160, 0x483061A0, 0x036861A0, 0x6001492F, 0x309120FF,
    0xFFC2F7FF, 0x1C6D61A6, 0xD3E02D20, 0xBDF02000, 0x4C26B510, 0x22036961, 0x43910212, 0x69616161,
    0x69616161, 0x43912202, 0x69616161, 0x43112201, 0x491F6161, 0x492161A1, 0x491F61A1, 0x20FF6001,
    0xF7FF3091, 0x2000FFA1, 0xBD1061A0, 0x4617B5F0, 0x4605468C, 0xE01E2600, 0x69604C14, 0x00400840,
    0x69606160, 0x43082102, 0x48156160, 0x481561A0, 0x787861A0, 0x02007839, 0x78B94308, 0x43010409,
    0x1D3F78F8, 0x43080600, 0x2002C501, 0xFF7CF7FF, 0x61A02000, 0x45661D36, 0x2000D3DE, 0x0000BDF0,
    0x12345A5A, 0x40011400, 0x40000200, 0x40001000, 0x96969696, 0x3C3C3C3C, 0x1234ABCD, 0xEAEAEAEA,
    0xA5A5A5A5, 0xF1F1F1F1, 0x00000000
};

const program_target_t flash_algo = {
    0x20000047,  // Init
    0x20000055,  // UnInit
    0x20000063,  // EraseChip
    0x200000B1,  // EraseSector
    0x200000ED,  // ProgramPage

    // BKPT : start of blob + 1
    // RSB  : address to access global/static data
    // RSP  : stack pointer
    {
        0x20000001,
        0x20000C00,
        0x20001000
    },

    0x20000400,  // mem buffer location
    0x20000000,  // location to write prog_blob in target RAM
    sizeof(flash_code),  // prog_blob size
    flash_code,  // address of prog_blob
    0x00000400,  // ram_to_flash_bytes_to_be_written
};
