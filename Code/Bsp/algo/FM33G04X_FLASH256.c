/* Flash OS Routines (Automagically Generated)
 * Copyright (c) 2009-2015 ARM Limited
 */
#include "flash_blob.h"

static const uint32_t flash_code[] = {
    0xE00ABE00, 0x062D780D, 0x24084068, 0xD3000040, 0x1E644058, 0x1C49D1FA, 0x2A001E52, 0x4770D1F2,
    0x48664967, 0x47706008, 0xE0052200, 0xBF002100, 0x29391C49, 0x1C52D3FB, 0xD3F74282, 0x48614770,
    0x22206AC1, 0x62C14311, 0x47702000, 0x6AC1485D, 0x43912220, 0x200062C1, 0xB5F04770, 0x4D5A2400,
    0x69692601, 0x02002003, 0x61694381, 0x61686968, 0x20026969, 0x61694381, 0x43306968, 0x48536168,
    0x485361A8, 0x026061A8, 0x23004952, 0x01BF2719, 0xE0056001, 0xD20642BB, 0x1C5B2001, 0xFFC4F7FF,
    0x07C06A28, 0x622ED0F6, 0x27FF2300, 0xE0053791, 0xD20642BB, 0x1C5B2001, 0xFFB6F7FF, 0x07C06A28,
    0x2000D1F6, 0x200161A8, 0x1C640240, 0xD3C84284, 0xBDF02000, 0x4C3CB570, 0x22036961, 0x43910212,
    0x69616161, 0x69616161, 0x43912202, 0x69616161, 0x43312601, 0x49356161, 0x493561A1, 0x493561A1,
    0x25FF2300, 0x60013591, 0x42ABE005, 0x2001D206, 0xF7FF1C5B, 0x6A20FF89, 0xD0F607C0, 0x23006226,
    0x42ABE005, 0x2001D206, 0xF7FF1C5B, 0x6A20FF7D, 0xD1F607C0, 0x61A02000, 0xB5F0BD70, 0x468C4616,
    0x25004604, 0xE0344F20, 0x08406978, 0x61780040, 0x21026978, 0x61784308, 0x61B8481F, 0x61B8481F,
    0x78317870, 0x43080200, 0x230078B1, 0x43010409, 0x060078F0, 0xC4014308, 0xE0051D36, 0xD2062B0A,
    0x1C5B2001, 0xFF50F7FF, 0x07806A38, 0x6A38D5F6, 0x43082102, 0x23006238, 0x2B0AE005, 0x2001D206,
    0xF7FF1C5B, 0x6A38FF41, 0xD4F60780, 0x61B82000, 0x45651D2D, 0x2000D3C8, 0x0000BDF0, 0x12345A5A,
    0x40011400, 0x40000200, 0x40001000, 0x96969696, 0xEAEAEAEA, 0x1234ABCD, 0xA5A5A5A5, 0xF1F1F1F1,
    0x00000000
};

const program_target_t flash_algo = {
    0x2000003F,  // Init
    0x2000004D,  // UnInit
    0x2000005B,  // EraseChip
    0x200000D5,  // EraseSector
    0x2000013B,  // ProgramPage

    // BKPT : start of blob + 1
    // RSB  : address to access global/static data
    // RSP  : stack pointer
    {
        0x20000001,
        0x20000C00,
        0x20001000
    },

    0x20000400,  // mem buffer location
    0x20000000,  // location to write prog_blob in target RAM
    sizeof(flash_code),  // prog_blob size
    flash_code,  // address of prog_blob
    0x00000400,  // ram_to_flash_bytes_to_be_written
};
